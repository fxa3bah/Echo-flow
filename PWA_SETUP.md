# PWA Setup Guide for Echo Flow

Your app is **already configured as a PWA**! You just need to generate the icons.

## Quick Setup (2 minutes)

### Option 1: Generate Icons with Script (Recommended)

1. **Install sharp** (image processing library):
   ```bash
   npm install --save-dev sharp
   ```

2. **Run the icon generator**:
   ```bash
   node generate-icons.js
   ```

3. **Done!** All icons will be created in the `public/` folder.

### Option 2: Use Online Tool (No installation needed)

1. Go to [https://realfavicongenerator.net/](https://realfavicongenerator.net/)

2. Upload `public/icon.svg`

3. Download the generated package

4. Extract files to your `public/` folder (replace if asked)

### Option 3: Manual Creation (Using any image editor)

Create these PNG files in the `public/` folder from `icon.svg`:
- `favicon-16x16.png` (16x16)
- `favicon-32x32.png` (32x32)
- `favicon.ico` (32x32, can be PNG or ICO)
- `apple-touch-icon.png` (180x180)
- `icon-192.png` (192x192)
- `icon-512.png` (512x512)

---

## Testing Your PWA

### Desktop (Chrome/Edge)
1. Run `npm run dev` or deploy to production
2. Look for the install icon ⊕ in the address bar
3. Click "Install Echo Flow"
4. App opens in standalone window!

### iOS (Safari)
1. Open the app in Safari
2. Tap the Share button (box with arrow)
3. Scroll down and tap "Add to Home Screen"
4. Name it "Echo Flow" and tap "Add"
5. Find the app icon on your home screen!

### Android (Chrome)
1. Open the app in Chrome
2. Tap the menu (⋮) in the top-right
3. Tap "Install app" or "Add to Home Screen"
4. Confirm installation
5. App appears in your app drawer!

### Windows/Mac
1. Open app in Chrome/Edge
2. Click the install icon in address bar
3. App installs as native application
4. Launch from Start Menu (Windows) or Launchpad (Mac)

---

## PWA Features Already Enabled

✅ **Offline Support**: Service worker caches assets
✅ **Install Prompt**: Users can install to home screen/desktop
✅ **Splash Screen**: Beautiful splash screen on mobile
✅ **App Shortcuts**: Quick actions from home screen (Android)
✅ **Theme Color**: Branded status bar on mobile
✅ **Standalone Mode**: Runs like a native app
✅ **Auto-Update**: Updates automatically in background

---

## App Shortcuts (Android Long-Press)

When users long-press your app icon on Android, they'll see:
- **Record Voice Note**: Quick access to recording
- **AI Chat**: Open AI assistant directly
- **Focus View**: Jump to prioritized tasks

---

## Troubleshooting

### Icons not showing?
1. Clear browser cache (Ctrl+Shift+R)
2. Check `public/` folder has all PNG files
3. Rebuild: `npm run build`

### Can't install PWA?
1. Must be served over HTTPS (production)
2. Or localhost (development)
3. Check console for service worker errors

### Service worker not updating?
1. Close all app tabs
2. Open DevTools → Application → Service Workers
3. Click "Unregister"
4. Refresh page

---

## Production Deployment

When deploying to production (Vercel, Netlify, etc.):

1. Make sure all icons are in `public/` folder
2. Build: `npm run build`
3. Deploy `dist/` folder
4. Access via HTTPS (required for PWA)

The PWA will automatically:
- Show install prompt on mobile after 2-3 visits
- Cache assets for offline use
- Update in background when new version deployed

---

## Technical Details

**PWA Configuration**: `vite.config.ts`
**Manifest**: Auto-generated by vite-plugin-pwa
**Service Worker**: Uses Workbox (via vite-plugin-pwa)
**Icon Source**: `public/icon.svg` (gradient audio wave design)

**Supported Platforms**:
- ✅ iOS 11.3+ (Safari)
- ✅ Android 5+ (Chrome, Firefox, Samsung Internet)
- ✅ Windows 10+ (Edge, Chrome)
- ✅ macOS 10.13+ (Chrome, Safari 16+)
- ✅ Linux (Chrome, Firefox)

---

Made with ❤️ for Echo Flow
